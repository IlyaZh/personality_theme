<!-- Announcement Bar -->
{{#if @custom.show_announcement_bar}}
{{#if @labs.announcement}}
<div id="announcement-bar" class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-3 px-4 text-center relative shadow-sm">
    <div class="container mx-auto max-w-6xl">
        <div class="flex items-center justify-center gap-3">
            <div class="flex items-center gap-2 flex-1 justify-center">
                <i class="fas fa-bullhorn text-sm"></i>
                <div class="text-sm font-medium">
                    {{{@labs.announcement}}}
                </div>
            </div>
            <!-- Optional CTA Buttons - can be removed if not needed -->
            {{!-- <div class="hidden sm:flex items-center gap-2">
                <a href="{{asset 'resume-ilia-zhitenev.pdf'}}" target="_blank" 
                   class="btn btn-sm bg-white/10 hover:bg-white/20 border-white/30 text-white hover:text-white transition-all duration-200">
                    <i class="fas fa-download mr-1"></i>
                    Resume
                </a>
            </div> --}}
        </div>
        <!-- Close Button -->
        <button id="close-announcement" 
                class="absolute right-3 top-1/2 transform -translate-y-1/2 btn btn-ghost btn-xs text-white/80 hover:text-white hover:bg-white/10 rounded-full"
                aria-label="Close announcement">
            <i class="fas fa-times text-sm"></i>
        </button>
    </div>
</div>
{{/if}}
{{/if}}

<script>
// Announcement bar functionality
document.addEventListener('DOMContentLoaded', function() {
    const announcementBar = document.getElementById('announcement-bar');
    const closeButton = document.getElementById('close-announcement');
    
    // Only proceed if announcement bar exists
    if (!announcementBar || !closeButton) {
        return;
    }
    
    // Check if announcement was previously closed
    const announcementClosed = localStorage.getItem('announcementClosed');
    
    if (announcementClosed === 'true') {
        announcementBar.style.display = 'none';
    }
    
    // Close announcement when button is clicked
    closeButton.addEventListener('click', function() {
        announcementBar.style.display = 'none';
        localStorage.setItem('announcementClosed', 'true');
    });
    
    // Auto-hide after 10 seconds (optional)
    // setTimeout(function() {
    //     if (announcementBar.style.display !== 'none') {
    //         announcementBar.classList.add('opacity-75');
    //     }
    // }, 10000);
});
</script>
